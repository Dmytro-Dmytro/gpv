<html>
  <head>
    <title>ГПВ</title>
  </head>
  <body onload=sr();sK(); onresize=sK()>
        <!-- <img src="https://stryi.online/wp-content/uploads/2023/10/4.png"> -->
    <div class=c>
      <div class=c1>
        <img src="https://api.loe.lviv.ua/media/65d4a853af7c2_22.png">
      </div>  
      <div class=c2 onscroll=sr()>
        <img src="https://api.loe.lviv.ua/media/65d4a853af7c2_22.png">
        <div class=r></div>
      </div>
    </div>

    <style>
      body {
        width:100%;
        height:100%;
        margin:0px;
      }

      .c {
        position:relative;
        width:max-content;
      }

      .c1 {
        position:absolute;
        width:162px;
        overflow:hidden;
        z-index:5;
      }

      .c2 {
        position:relative;
        position:relative;
        overflow-x:auto;
      }

      .r {
        display:none;
        z-index:9;
        position: absolute;
        border: 5px solid blue;
        border-radius: 45px / 40px;
      }
    </style>

    <script>
      const r = document.getElementsByClassName("r")[0];
      const d = new Date();
      const D = (d.getDay() + 6) % 7 + 1;  //  1-7
      const S = Math.floor((d.getHours()+23) % 24 / 2) + 1;	//	1-12
      const c2 = document.getElementsByClassName("c2")[0];

      function sK() {
        const b = document.getElementsByTagName("body")[0];
        const c = document.getElementsByClassName("c")[0];

		if (b.offsetWidth > b.offsetHeight){
 		  c2.style.width = '';
		} else {
		  K = c2.style.width == '';
          c2.style.width = '462';
		  if (K) {c2.scrollLeft = gss()}
		}
		
        K = Math.min( b.offsetWidth / c.offsetWidth, b.offsetHeight / c.offsetHeight);
//        K = 0.7;
        c.style.transform = 'scale(' + K + ')';
        c.style.left = ( b.offsetWidth - c.offsetWidth)/2;
        c.style.top = c.offsetHeight * (K-1) / 2;

      }

      function sr() {
        K = c2.scrollLeft - gss();

        if (K - 150 >= 0) {
          r.style.display = 'none';

        } else {
          K = K > 0 ? K : 0;
		  
//         https://api.loe.lviv.ua/media/65d4a853af7c2_22.png
          r.style.left = -1 + D * 150 + K;
          r.style.width = 165 - K;
          r.style.top = 52 + S * 59.6;
          r.style.height = 70;

          r.style.display = 'block';
		
        }
      }

      function gss() {
	    return 150 * (D-1);
      }

    </script>

  </body>
</html>
