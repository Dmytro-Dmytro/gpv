<html>
  <head>
    <title>ГПВ</title>
  </head>
  <body onload=ol() onresize=sK()>
    <div class=c>
      <div class=c1>
        <img src="https://api.loe.lviv.ua/media/65d4a853af7c2_22.png">
      </div>  
      <div class=c2 onscroll='sr()'>
        <img src="https://api.loe.lviv.ua/media/65d4a853af7c2_22.png">
        <div class=r></div>
      </div>
    </div>

    <style>
      body {
        width:100%;
        height:100%;
        margin:0px;
      }

      .c {
        position:relative;
        width:max-content;
      }

      .c1 {
        position:absolute;
        width:162px;
        overflow:hidden;
        z-index:1;
      }

      .c2 {
        position:relative;
        position:relative;
        overflow-x:scroll;
        <!-- width:462px; -->
      }

      .r {
        display:none;
        z-index:6;
        position: absolute;
        border: 5px solid blue;
        border-radius: 20px;
      }
    </style>

    <script>
      const r = document.getElementsByClassName("r")[0];
      const d = new Date();
      const D = (d.getDay() + 6) % 7 + 1;  //  1-7
      var S = d.getHours();  //  0-23
      var S = Math.floor((S+23) % 24 / 2) + 1;	//	1-12
      const c2 = document.getElementsByClassName("c2")[0];
      //         D = 3;

      function ol() {
        sr();
        sK();
      }

      function sK() {
        const b = document.getElementsByTagName("body")[0];
        const c = document.getElementsByClassName("c")[0];

	  <!-- r.innerHTML = 'c2.width=' + c2.style.width + ' ' + (c2.style.width == ''); -->
		if (b.offsetWidth > b.offsetHeight){
 		  c2.style.width = '';
		} else {
		  K = c2.style.width == '';
          c2.style.width = '462';
		  if (K) {c2.scrollLeft = 150 * (D-1)}
		}
	  <!-- r.innerHTML += 'c2.width=' + c2.style.width + ' ' + (c2.style.width == ''); -->
		
        widthK = b.offsetWidth / c.offsetWidth;
        heightK = b.offsetHeight / c.offsetHeight;

        K = Math.min( widthK, heightK);
//        K = 0.7;
        c.style.transform = 'scale(' + K + ')';
        c.style.left = ( b.offsetWidth - c.offsetWidth)/2;
        c.style.top = c.offsetHeight * (K-1) / 2;

      }

      function sr() {
//         https://api.loe.lviv.ua/media/65d4a853af7c2_22.png
        K = c2.scrollLeft - 150 * (D-1);

        if (K - 150 >= 0) {
          r.style.display = 'none';

        } else {
          K = K > 0 ? K : 0;
		  
          r.style.left = -1 + D * 150 + K;
          r.style.width = 165 - K;
          r.style.top = 52 + S * 59.6;
          r.style.height = 70;
		  
          r.style.display = 'block';
		
        }

        //         https://stryi.online/wp-content/uploads/2023/10/4.png
        //         r.style.left = -1 + D * 150;
        //         r.style.top = 52 + SCh * 59.6;
        //         r.style.width = 165;
        //         r.style.height = 70;
      }

    </script>

  </body>
</html>
